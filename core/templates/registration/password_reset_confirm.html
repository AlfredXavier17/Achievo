{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div style="max-width: 400px; margin: 100px auto; padding: 30px; background-color: #2a2a2a; border: 1px solid #444; border-radius: 10px;">
    <h2 style="color: white; text-align: center;">Set New Password</h2>

    <form method="post">
        {% csrf_token %}

        <div style="position: relative; margin-bottom: 20px;">
            <label style="color: white;">New Password:</label>
            <input type="password" name="new_password1" id="id_new_password1" class="form-control bg-dark text-light border-secondary pe-5" required>
            <span class="toggle-eye" onclick="togglePassword('id_new_password1', this)">
                <i class="far fa-eye-slash"></i>
            </span>
        </div>

        <div style="position: relative; margin-bottom: 20px;">
            <label style="color: white;">Confirm Password:</label>
            <input type="password" name="new_password2" id="id_new_password2" class="form-control bg-dark text-light border-secondary pe-5" required>
            <span class="toggle-eye" onclick="togglePassword('id_new_password2', this)">
                <i class="far fa-eye-slash"></i>
            </span>
        </div>

        <button type="submit" style="background-color: #007bff; color: white; padding: 10px; border: none; border-radius: 5px; width: 100%;">
            Change Password
        </button>
    </form>
</div>

<style>
.toggle-eye {
    position: absolute;
    right: 10px;
    top: 70%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #666;
    height: 20px;
    display: flex;
    align-items: center;
}
.toggle-eye i {
    font-size: 1rem;
}
</style>

<script>
function togglePassword(inputId, toggleElement) {
    const input = document.getElementById(inputId);
    const icon = toggleElement.querySelector('i');
    if (input.type === "password") {
        input.type = "text";
        icon.classList.replace("fa-eye-slash", "fa-eye");
        icon.style.color = "#3399ff";
    } else {
        input.type = "password";
        icon.classList.replace("fa-eye", "fa-eye-slash");
        icon.style.color = "#666";
    }
}
</script>
{% endblock %}
